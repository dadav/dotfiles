alias ll="ls -l --color=auto"
alias l="ll"
alias vi="vim"
alias grep="grep --colour"
alias msdb="sudo mount /dev/sdb1 /mnt"
# Go in Monitoring mode
alias start_monitor="sudo systemctl stop NetworkManager; \
    sudo ip link set wlp20s0 down; \
    sudo iwconfig wlp20s0 mode monitor; \
    sudo ip link set wlp20s0 up"
alias stop_monitor="sudo ip link set wlp20s0 down; \
    sudo iwconfig wlp20s0 mode managed; \
    sudo ip link set wlp20s0 up; \
    sudo systemctl start NetworkManager"


alias fix='reset; stty sane; tput rs1; clear; echo -e "\033c"'
alias cal="cal -w3"
alias vm="virt-manager --connect qemu:///session"
alias pyenv="source ~/python/venv/bin/activate"
alias emacs="emacs -nw"
alias torpy="torify ssh pi@yedyafq32tmb2fca.onion"

function rain() {
    mpg123 --loop -1 ~/music/rain.mp3 > /dev/null 2>&1 & 
}

function showmap() {
    telnet mapscii.me
}

function cutmp3() {

if [[ $# -eq 2 ]]; then
    ffmpeg -i "$1" -acodec copy -to "$2" "CUT_$1"
else
    ffmpeg -i "$1" -acodec copy -ss "$2" -to "$3" "CUT_$1"
fi
}

function play() {
    mpv "$@" > /dev/null 2>&1 &
}

# Jump to manpage section
function manj() {
    man --pager='less -p "'$1'"' $2
}

# Show last commands 
function getlast() { 
    fc -ln -${1:-10} | sed 's/[[:space:]]*//' 
}

# Small Calculator

function c(){
    echo "$*" | bc -l
}

# Big clock
function bclock(){ 
    watch -n1 -t "date +%T | toilet -f mono9"
}

# Small persistent clock
function sclock(){ 
    while sleep 1; do     
        tput sc; tput cup 0 $(($(tput cols)-29)); date; tput rc; 
    done 
}

# Get commandlinefu stuff 
function cmdfu() {     
    curl "http://www.commandlinefu.com/commands/matching/$@/$(echo -n $@ | openssl base64)/plaintext"; 
}

# Record screen
function rec_screen() {

ffmpeg -f x11grab -r 25 -s 1600x900 -i :0.0 out.mpg

}

function wetter() {

    curl -s wttr.in/Ostfildern?lang=de

}

# Youtube Downloader
function y2mp3(){
    youtube-dl -x --audio-format mp3 --audio-quality 9 --add-metadata --metadata-from-title "%(artist)s - %(title)s" $*
}

function show_err(){
        ret=$?
        echo "return code $ret" | cowsay -f tux | toilet -f term --gay
        return $ret
}


 trap 'show_err' ERR 
